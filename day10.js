const lights = [
    { x: 31766, y: -52454, xv: -3, yv: 5 },
    { x:-52374, y: -41935, xv:  5, yv: 4 },
    { x: 31758, y: -31427, xv: -3, yv: 3 },
    { x:-41862, y:  31671, xv:  4, yv:-3 },
    { x: 10747, y: -41934, xv: -1, yv: 4 },
    { x: 21267, y:  42181, xv: -2, yv:-4 },
    { x: 52759, y: -20913, xv: -5, yv: 2 },
    { x: 31734, y:  52701, xv: -3, yv:-5 },
    { x:-41823, y:  31669, xv:  4, yv:-3 },
    { x:-52346, y:  42184, xv:  5, yv:-4 },
    { x:-20801, y: -52451, xv:  2, yv: 5 },
    { x: 31760, y: -20904, xv: -3, yv: 2 },
    { x:-31356, y: -10397, xv:  3, yv: 1 },
    { x:-41823, y: -41934, xv:  4, yv: 4 },
    { x: 10724, y: -10389, xv: -1, yv: 1 },
    { x:-31344, y: -31427, xv:  3, yv: 3 },
    { x:-41826, y:  42186, xv:  4, yv:-4 },
    { x:-52393, y:  42186, xv:  5, yv:-4 },
    { x: 42281, y:  52698, xv: -4, yv:-5 },
    { x: 10700, y: -10398, xv: -1, yv: 1 },
    { x: 21259, y:  31667, xv: -2, yv:-3 },
    { x: 21215, y:  31662, xv: -2, yv:-3 },
    { x:-10294, y:  10635, xv:  1, yv:-1 },
    { x: 31734, y: -10392, xv: -3, yv: 1 },
    { x: 52764, y:  52698, xv: -5, yv:-5 },
    { x:-52394, y:  21148, xv:  5, yv:-2 },
    { x:-20809, y: -31428, xv:  2, yv: 3 },
    { x:-52333, y:  31666, xv:  5, yv:-3 },
    { x: 31787, y: -20913, xv: -3, yv: 2 },
    { x: 52776, y: -10391, xv: -5, yv: 1 },
    { x:-52393, y: -52449, xv:  5, yv: 5 },
    { x: 31768, y:  52701, xv: -3, yv:-5 },
    { x: 31734, y:  21155, xv: -3, yv:-2 },
    { x:-41847, y: -52455, xv:  4, yv: 5 },
    { x: 21220, y:  21147, xv: -2, yv:-2 },
    { x: 42273, y:  10640, xv: -4, yv:-1 },
    { x: 10753, y:  52696, xv: -1, yv:-5 },
    { x:-10309, y: -10389, xv:  1, yv: 1 },
    { x: 42241, y:  21149, xv: -4, yv:-2 },
    { x: 52806, y:  52701, xv: -5, yv:-5 },
    { x:-20801, y:  31670, xv:  2, yv:-3 },
    { x: 10720, y:  21152, xv: -1, yv:-2 },
    { x: 31737, y:  42181, xv: -3, yv:-4 },
    { x:-31332, y: -20913, xv:  3, yv: 2 },
    { x:-10321, y:  52695, xv:  1, yv:-5 },
    { x:-10294, y:  31664, xv:  1, yv:-3 },
    { x:-10331, y: -41943, xv:  1, yv: 4 },
    { x: 52788, y: -10397, xv: -5, yv: 1 },
    { x: 52766, y: -31428, xv: -5, yv: 3 },
    { x:-31332, y: -52458, xv:  3, yv: 5 },
    { x:-31356, y: -20909, xv:  3, yv: 2 },
    { x:-10329, y: -52453, xv:  1, yv: 5 },
    { x:-31346, y: -31419, xv:  3, yv: 3 },
    { x: 31787, y:  10638, xv: -3, yv:-1 },
    { x: 10736, y:  21152, xv: -1, yv:-2 },
    { x: 21255, y: -31419, xv: -2, yv: 3 },
    { x:-31308, y:  31669, xv:  3, yv:-3 },
    { x:-52386, y:  42186, xv:  5, yv:-4 },
    { x:-10314, y: -20912, xv:  1, yv: 2 },
    { x: 31766, y: -41938, xv: -3, yv: 4 },
    { x: 42273, y:  21149, xv: -4, yv:-2 },
    { x: 21255, y: -31419, xv: -2, yv: 3 },
    { x:-41860, y: -41934, xv:  4, yv: 4 },
    { x:-20817, y: -31421, xv:  2, yv: 3 },
    { x: 21231, y:  52695, xv: -2, yv:-5 },
    { x:-20793, y:  21151, xv:  2, yv:-2 },
    { x: 42274, y:  31671, xv: -4, yv:-3 },
    { x:-31353, y:  10636, xv:  3, yv:-1 },
    { x: 21235, y: -41937, xv: -2, yv: 4 },
    { x: 21251, y: -52452, xv: -2, yv: 5 },
    { x: 42289, y: -20905, xv: -4, yv: 2 },
    { x: 52766, y:  31666, xv: -5, yv:-3 },
    { x:-52357, y:  52701, xv:  5, yv:-5 },
    { x:-52386, y: -41935, xv:  5, yv: 4 },
    { x: 42260, y: -20913, xv: -4, yv: 2 },
    { x:-20836, y:  42180, xv:  2, yv:-4 },
    { x:-52386, y:  31670, xv:  5, yv:-3 },
    { x: 10757, y: -10390, xv: -1, yv: 1 },
    { x: 10752, y:  42183, xv: -1, yv:-4 },
    { x:-52381, y:  10633, xv:  5, yv:-1 },
    { x:-31332, y:  31667, xv:  3, yv:-3 },
    { x: 21237, y:  52701, xv: -2, yv:-5 },
    { x: 10731, y: -41934, xv: -1, yv: 4 },
    { x: 31787, y: -31425, xv: -3, yv: 3 },
    { x: 52757, y: -41943, xv: -5, yv: 4 },
    { x:-52374, y:  52698, xv:  5, yv:-5 },
    { x:-52338, y: -52456, xv:  5, yv: 5 },
    { x:-20844, y:  42178, xv:  2, yv:-4 },
    { x:-20825, y: -52456, xv:  2, yv: 5 },
    { x:-52367, y: -10389, xv:  5, yv: 1 },
    { x: 10744, y:  52697, xv: -1, yv:-5 },
    { x: 10704, y: -52457, xv: -1, yv: 5 },
    { x: 31766, y:  42186, xv: -3, yv:-4 },
    { x: 52761, y: -10390, xv: -5, yv: 1 },
    { x: 31777, y: -20904, xv: -3, yv: 2 },
    { x:-41818, y: -41938, xv:  4, yv: 4 },
    { x:-52370, y:  10637, xv:  5, yv:-1 },
    { x: 21267, y:  10639, xv: -2, yv:-1 },
    { x:-52382, y: -10394, xv:  5, yv: 1 },
    { x:-52370, y:  42180, xv:  5, yv:-4 },
    { x: 21223, y: -31428, xv: -2, yv: 3 },
    { x:-20845, y: -20913, xv:  2, yv: 2 },
    { x: 52812, y:  21148, xv: -5, yv:-2 },
    { x: 42241, y: -41935, xv: -4, yv: 4 },
    { x: 52814, y:  52696, xv: -5, yv:-5 },
    { x:-31316, y: -10398, xv:  3, yv: 1 },
    { x: 52776, y:  10636, xv: -5, yv:-1 },
    { x:-41823, y:  21148, xv:  4, yv:-2 },
    { x: 52788, y: -10391, xv: -5, yv: 1 },
    { x:-52370, y:  42186, xv:  5, yv:-4 },
    { x: 10721, y:  52701, xv: -1, yv:-5 },
    { x: 10744, y:  42185, xv: -1, yv:-4 },
    { x: 21219, y: -41939, xv: -2, yv: 4 },
    { x:-52378, y: -52451, xv:  5, yv: 5 },
    { x: 31758, y: -20911, xv: -3, yv: 2 },
    { x:-31332, y:  52697, xv:  3, yv:-5 },
    { x:-10329, y:  31671, xv:  1, yv:-3 },
    { x:-31308, y:  42179, xv:  3, yv:-4 },
    { x: 31726, y: -20911, xv: -3, yv: 2 },
    { x: 42275, y:  52701, xv: -4, yv:-5 },
    { x:-20829, y:  21149, xv:  2, yv:-2 },
    { x: 10706, y:  52696, xv: -1, yv:-5 },
    { x:-31312, y:  52701, xv:  3, yv:-5 },
    { x:-31364, y: -10397, xv:  3, yv: 1 },
    { x:-41855, y:  42179, xv:  4, yv:-4 },
    { x:-41823, y:  31665, xv:  4, yv:-3 },
    { x:-31362, y: -10389, xv:  3, yv: 1 },
    { x: 42273, y: -20912, xv: -4, yv: 2 },
    { x: 10700, y: -52453, xv: -1, yv: 5 },
    { x: 52788, y:  21149, xv: -5, yv:-2 },
    { x:-10324, y: -31424, xv:  1, yv: 3 },
    { x:-31356, y: -31423, xv:  3, yv: 3 },
    { x: 10725, y:  52701, xv: -1, yv:-5 },
    { x:-52343, y:  42186, xv:  5, yv:-4 },
    { x:-31324, y: -31425, xv:  3, yv: 3 },
    { x: 52799, y: -31419, xv: -5, yv: 3 },
    { x: 10716, y: -52458, xv: -1, yv: 5 },
    { x:-20849, y:  10638, xv:  2, yv:-1 },
    { x:-52378, y: -20905, xv:  5, yv: 2 },
    { x: 52764, y: -10391, xv: -5, yv: 1 },
    { x: 31726, y:  10635, xv: -3, yv:-1 },
    { x: 31750, y: -20907, xv: -3, yv: 2 },
    { x:-31344, y:  10636, xv:  3, yv:-1 },
    { x:-41839, y: -10397, xv:  4, yv: 1 },
    { x:-52333, y:  52701, xv:  5, yv:-5 },
    { x: 52780, y: -41939, xv: -5, yv: 4 },
    { x: 42242, y:  10641, xv: -4, yv:-1 },
    { x: 10728, y: -20909, xv: -1, yv: 2 },
    { x: 52780, y: -41943, xv: -5, yv: 4 },
    { x: 31766, y: -41939, xv: -3, yv: 4 },
    { x:-20846, y: -41934, xv:  2, yv: 4 },
    { x:-31303, y:  10640, xv:  3, yv:-1 },
    { x: 42282, y: -41934, xv: -4, yv: 4 },
    { x: 52780, y: -20907, xv: -5, yv: 2 },
    { x: 31726, y: -20908, xv: -3, yv: 2 },
    { x:-10310, y:  31666, xv:  1, yv:-3 },
    { x:-31316, y: -41940, xv:  3, yv: 4 },
    { x:-20801, y:  10635, xv:  2, yv:-1 },
    { x:-41859, y: -10396, xv:  4, yv: 1 },
    { x: 31750, y:  31669, xv: -3, yv:-3 },
    { x:-52370, y:  21151, xv:  5, yv:-2 },
    { x:-31312, y: -52449, xv:  3, yv: 5 },
    { x:-20821, y: -10389, xv:  2, yv: 1 },
    { x: 10744, y:  42179, xv: -1, yv:-4 },
    { x: 31766, y: -20909, xv: -3, yv: 2 },
    { x:-41870, y:  52692, xv:  4, yv:-5 },
    { x:-52366, y:  31671, xv:  5, yv:-3 },
    { x:-31364, y: -41938, xv:  3, yv: 4 },
    { x:-31324, y:  52700, xv:  3, yv:-5 },
    { x: 42289, y: -52449, xv: -4, yv: 5 },
    { x:-10298, y:  21156, xv:  1, yv:-2 },
    { x: 21212, y:  31662, xv: -2, yv:-3 },
    { x: 10696, y: -20907, xv: -1, yv: 2 },
    { x: 52776, y:  52699, xv: -5, yv:-5 },
    { x: 42261, y:  52697, xv: -4, yv:-5 },
    { x: 21235, y: -20905, xv: -2, yv: 2 },
    { x:-52334, y:  42181, xv:  5, yv:-4 },
    { x: 52777, y: -31428, xv: -5, yv: 3 },
    { x: 10716, y:  31665, xv: -1, yv:-3 },
    { x: 52817, y: -41943, xv: -5, yv: 4 },
    { x: 52798, y: -41934, xv: -5, yv: 4 },
    { x:-52338, y:  52696, xv:  5, yv:-5 },
    { x:-52338, y:  42178, xv:  5, yv:-4 },
    { x: 31787, y:  42186, xv: -3, yv:-4 },
    { x:-31356, y: -52454, xv:  3, yv: 5 },
    { x: 21259, y:  31667, xv: -2, yv:-3 },
    { x:-20807, y:  10641, xv:  2, yv:-1 },
    { x:-31319, y:  10641, xv:  3, yv:-1 },
    { x: 31746, y:  31667, xv: -3, yv:-3 },
    { x:-31324, y:  31671, xv:  3, yv:-3 },
    { x:-10278, y: -10398, xv:  1, yv: 1 },
    { x:-10286, y:  42181, xv:  1, yv:-4 },
    { x: 42257, y: -10390, xv: -4, yv: 1 },
    { x:-52354, y:  10641, xv:  5, yv:-1 },
    { x:-20845, y: -31423, xv:  2, yv: 3 },
    { x: 21220, y: -31424, xv: -2, yv: 3 },
    { x: 21230, y: -20904, xv: -2, yv: 2 },
    { x:-52392, y: -41934, xv:  5, yv: 4 },
    { x:-20793, y:  52694, xv:  2, yv:-5 },
    { x: 10744, y: -41941, xv: -1, yv: 4 },
    { x: 31758, y:  42185, xv: -3, yv:-4 },
    { x:-20788, y:  21149, xv:  2, yv:-2 },
    { x:-52346, y: -31428, xv:  5, yv: 3 },
    { x: 31729, y: -20908, xv: -3, yv: 2 },
    { x: 52804, y: -20909, xv: -5, yv: 2 },
    { x:-20841, y:  52697, xv:  2, yv:-5 },
    { x:-20820, y: -41934, xv:  2, yv: 4 },
    { x:-20829, y: -41936, xv:  2, yv: 4 },
    { x:-52375, y:  10632, xv:  5, yv:-1 },
    { x:-41874, y:  42184, xv:  4, yv:-4 },
    { x: 52756, y:  52700, xv: -5, yv:-5 },
    { x: 42265, y:  42184, xv: -4, yv:-4 },
    { x:-31364, y:  31668, xv:  3, yv:-3 },
    { x:-10310, y:  42178, xv:  1, yv:-4 },
    { x: 10716, y: -52454, xv: -1, yv: 5 },
    { x: 31774, y: -41937, xv: -3, yv: 4 },
    { x:-52389, y:  10638, xv:  5, yv:-1 },
    { x: 31747, y:  52692, xv: -3, yv:-5 },
    { x:-31316, y: -52457, xv:  3, yv: 5 },
    { x: 52760, y: -31423, xv: -5, yv: 3 },
    { x:-31305, y:  21151, xv:  3, yv:-2 },
    { x: 10736, y: -31421, xv: -1, yv: 3 },
    { x:-10326, y:  10634, xv:  1, yv:-1 },
    { x:-41847, y: -20905, xv:  4, yv: 2 },
    { x:-10286, y:  31666, xv:  1, yv:-3 },
    { x: 31787, y: -20906, xv: -3, yv: 2 },
    { x: 42290, y: -31419, xv: -4, yv: 3 },
    { x: 21223, y: -10394, xv: -2, yv: 1 },
    { x:-31306, y: -10394, xv:  3, yv: 1 },
    { x:-20801, y:  21149, xv:  2, yv:-2 },
    { x: 31753, y: -52449, xv: -3, yv: 5 },
    { x: 31787, y:  21151, xv: -3, yv:-2 },
    { x:-10314, y:  10634, xv:  1, yv:-1 },
    { x: 42284, y:  21156, xv: -4, yv:-2 },
    { x: 21235, y:  10632, xv: -2, yv:-1 },
    { x: 21228, y:  31671, xv: -2, yv:-3 },
    { x:-20825, y:  21147, xv:  2, yv:-2 },
    { x: 31758, y:  21153, xv: -3, yv:-2 },
    { x:-31305, y: -20909, xv:  3, yv: 2 },
    { x: 42241, y:  42184, xv: -4, yv:-4 },
    { x:-20801, y:  31663, xv:  2, yv:-3 },
    { x: 52796, y: -52453, xv: -5, yv: 5 },
    { x:-10334, y: -31423, xv:  1, yv: 3 },
    { x: 52764, y: -31425, xv: -5, yv: 3 },
    { x: 10720, y: -10393, xv: -1, yv: 1 },
    { x:-20844, y: -31422, xv:  2, yv: 3 },
    { x: 10704, y:  10635, xv: -1, yv:-1 },
    { x: 42250, y:  52696, xv: -4, yv:-5 },
    { x:-10273, y:  52695, xv:  1, yv:-5 },
    { x: 10698, y:  31662, xv: -1, yv:-3 },
    { x:-10278, y:  10638, xv:  1, yv:-1 },
    { x: 21211, y:  52693, xv: -2, yv:-5 },
    { x: 42298, y: -31424, xv: -4, yv: 3 },
    { x:-10326, y:  52701, xv:  1, yv:-5 },
    { x: 31760, y:  31671, xv: -3, yv:-3 },
    { x: 10752, y:  10641, xv: -1, yv:-1 },
    { x:-10313, y: -10398, xv:  1, yv: 1 },
    { x:-31311, y:  31671, xv:  3, yv:-3 },
    { x: 42273, y: -31422, xv: -4, yv: 3 },
    { x: 10720, y:  42184, xv: -1, yv:-4 },
    { x:-20845, y:  31670, xv:  2, yv:-3 },
    { x:-31347, y:  10641, xv:  3, yv:-1 },
    { x:-10332, y:  52692, xv:  1, yv:-5 },
    { x:-31332, y: -31419, xv:  3, yv: 3 },
    { x: 42293, y:  21156, xv: -4, yv:-2 },
    { x:-31353, y:  10632, xv:  3, yv:-1 },
    { x:-31316, y:  52699, xv:  3, yv:-5 },
    { x:-31364, y:  21149, xv:  3, yv:-2 },
    { x:-10278, y:  21156, xv:  1, yv:-2 },
    { x: 42302, y: -31427, xv: -4, yv: 3 },
    { x: 21219, y: -41942, xv: -2, yv: 4 },
    { x: 31731, y:  52701, xv: -3, yv:-5 },
    { x: 42241, y: -20909, xv: -4, yv: 2 },
    { x:-31344, y: -10397, xv:  3, yv: 1 },
    { x: 42277, y: -20904, xv: -4, yv: 2 },
    { x:-10274, y: -41939, xv:  1, yv: 4 },
    { x: 31782, y: -52450, xv: -3, yv: 5 },
    { x:-41876, y:  31667, xv:  4, yv:-3 },
    { x: 10749, y: -20904, xv: -1, yv: 2 },
    { x: 21224, y: -20911, xv: -2, yv: 2 },
    { x: 31734, y:  31662, xv: -3, yv:-3 },
    { x: 21231, y:  10635, xv: -2, yv:-1 },
    { x:-52389, y: -31419, xv:  5, yv: 3 },
    { x: 31734, y: -41937, xv: -3, yv: 4 },
    { x: 42257, y: -20905, xv: -4, yv: 2 },
    { x: 42297, y:  52697, xv: -4, yv:-5 },
    { x: 52805, y:  21156, xv: -5, yv:-2 },
    { x: 10709, y: -20910, xv: -1, yv: 2 },
    { x:-52370, y: -31420, xv:  5, yv: 3 },
    { x:-10326, y:  21152, xv:  1, yv:-2 }
];

let mousedown = false;

const runToMinArea = () => {
    let domain = extents();
    let area = (domain.xMax - domain.xMin) * (domain.yMax - domain.yMin);
    let clock = 0;

    while (true) {
        clock++;
        tick();
        domain = extents();
        const newArea = (domain.xMax - domain.xMin) * (domain.yMax - domain.yMin);
        if (area < newArea) {
            tick(-1);
            return clock - 1;
        }
        area = newArea;
    }
};

const tick = (coeff = 1) => {
    lights.forEach((light) => {
        light.x += light.xv * coeff;
        light.y += light.yv * coeff;
    });
};

const extents = () => {
    const xCoords = [];
    const yCoords = [];
    lights.forEach((light) => {
        xCoords.push(light.x);
        yCoords.push(light.y);
    });

    return {
        xMin: Math.min.apply(null, xCoords),
        xMax: Math.max.apply(null, xCoords),
        yMin: Math.min.apply(null, yCoords),
        yMax: Math.max.apply(null, yCoords)
    };
};

const scale = (light, domain, range) => ({
    x: (light.x - domain.xMin) / (domain.xMax - domain.xMin) * range.width,
    y: (light.y - domain.yMin) / (domain.yMax - domain.yMin) * range.height,
});

const drawLights = () => {
    const domain = extents();
    const byCoord = {};
    lights.forEach((light) => {
        byCoord[`${light.x},${light.y}`] = true;
    });

    let str = '';

    for(let y = domain.yMin; y <= domain.yMax; y++) {
        for(let x = domain.xMin; x <= domain.xMax; x++) {
            if (byCoord[`${x},${y}`]) str += '#';
            else str += '.';
        }
        str += '\n';
    }

    console.log(str);
};

const clock = runToMinArea();
console.log('Part 1:');
drawLights();
console.log(`Part 2: ${clock}`);
